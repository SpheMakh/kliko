#!/usr/bin/env python
"""
This is the simulator file. Is is ment to be called from
inside a kliko container. 
"""
import os
from kliko.validate import validate
import subprocess

binary = "/usr/bin/pyxis"

# changedir so simms will write results to kliko output folder
os.chdir("/output")

# validate and parse the kliko arguments
parameters = validate()

# format kliko arguments into simms arguments
cmd = [binary, "azishe", "-f"] + ["{}={}".format(k, v) for k, v in parameters.items() if v]

# call the simms
subprocess.call(cmd)

